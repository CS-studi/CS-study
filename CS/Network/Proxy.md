# ν”„λ΅μ‹

> ν”„λ΅μ‹ μ„λ²„

> μΆ…λ¥(ν¬μ›λ“ ν”„λ΅μ‹/ λ¦¬λ²„μ¤ ν”„λ΅μ‹)

> λ©μ 

## ν”„λ΅μ‹ μ„λ²„ (Proxy Server)

![proxy](img/Proxy/proxy.png)

> λ€μ‹  μ²λ¦¬ν•λ” μ„λ²„ 

**ν”„λ΅μ‹ μ„λ²„**: ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ μ¤‘κ³„ μ„λ²„λ΅ ν†µμ‹ μ„ λ€λ¦¬ μν–‰ν•λ” μ„λ²„

μΊμ‹/λ³΄μ•/νΈλν”½ λ¶„μ‚° λ“± μ—¬λ¬ μ¥μ μ„ κ°€μ§ μ μλ‹¤.

> μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄μ— μ¤‘κ³„κΈ°λ΅μ„ λ€λ¦¬λ΅ ν†µμ‹ μ„ μν–‰ν•λ” κ²ƒμ„ κ°€λ¦¬μΌ `ν”„λ΅μ‹`, κ·Έ μ¤‘κ³„ κΈ°λ¥μ„ ν•λ” κ²ƒμ„ `ν”„λ΅μ‹ μ„λ²„`λΌκ³  λ¶€λ¥Έλ‹¤.

## μΆ…λ¥ π’΅

## β… ν¬μ›λ“ ν”„λ΅μ‹(Forward Proxy)

![forwardProxy](img/Proxy/forward.jpeg)

ν΄λΌμ΄μ–ΈνΈμ—μ„ ν”„λ΅μ‹ μ„λ²„λ¥Ό κ±°μ³μ„ μ„λ²„λ΅ μ”μ²­ν•λ‹¤. 

> ν΄λΌμ΄μ–ΈνΈμ™€ μΈν„°λ„· μ‚¬μ΄μ— μ„μΉ

> μΈν„°λ„· μ…μ¥μ—μ„ `ν΄λΌμ΄μ–ΈνΈ`κ°€ κ°μ¶°μ§„λ‹¤.

### νΉμ§•
### 1. μΊμ‹±: ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• λ‚΄μ©μ„ μΊμ‹±
- **μ „μ†΅ μ‹κ°„μ„ μ μ•½**ν•  μ μλ‹¤.
- λ™μ‹μ— λ¶ν•„μ”ν•κ² μ™Έλ¶€μ™€μ μ—°κ²°μ„ ν•μ§€ μ•μ•„λ„ λλ‹¤. (**λ¶ν•„μ”ν• μ™Έλ¶€ μ „μ†΅ X**)
- μ™Έλ¶€μ™€μ νΈλν”½μ„ μ¤„μ΄κ² λ¨μΌλ΅μ¨ λ„¤νΈμ›ν¬ λ°©λ© ν„μƒμ„ λ°©μ§€ν•λ” ν¨κ³Όλ„ μ–»μ„ μ μκ² λλ‹¤. (**λ„¤νΈμ›ν¬ λ³‘λ© ν„μƒ λ°©μ§€**)

### 2. μµλ…μ„±: ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ μ”μ²­μ„ κ°μ¶¤
μ„λ²„κ°€ μ‘λ‹µ λ°›μ€ μ”μ²­μ„ λ„κ°€ λ³΄λƒλ”μ§€ μ•μ§€ λ»ν•κ² ν•λ‹¤.

### 3. λ³΄μ•
μ‚¬λ‚΄λ§μ—μ„ ν”„λ΅μ‹ μ„λ²„λ¥Ό ν†µν•΄μ„ μ •ν•΄μ§„ μ‚¬μ΄νΈλ§ μ—°κ²° ν•  μ μλ„λ΅ μ„¤μ • ν• μ μλ‹¤. 

> Serverκ°€ λ°›μ€ μ”μ²­ IP = `Proxy IP`

## β… λ¦¬λ²„μ¤ ν”„λ΅μ‹ (Reverse Proxy)

![reverseProxy](img/Proxy/reverse.jpeg)

ν΄λΌμ΄μ–ΈνΈκ°€ νΉμ • κΈ°μ—… μ‚¬μ΄νΈμ— λ°μ΄ν„°λ¥Ό μ”μ²­ν•λ©΄ **λ¦¬λ²„μ¤ ν”„λ΅μ‹**κ°€ μ΄ μ”μ²­μ„ λ°›μ•„ λ‚΄λ¶€ μ„λ²„μ—μ„ λ°μ΄ν„°λ¥Ό λ°›μ€ ν›„ ν΄λΌμ΄μ–ΈνΈμ— μ „λ‹¬ν•λ‹¤.

> μΈν„°λ„·κ³Ό μ„λ²„ μ‚¬μ΄μ— μ„μΉ

> μΈν„°λ„· μ…μ¥μ—μ„ `μ„λ²„`κ°€ κ°μ¶°μ§„λ‹¤.

ν΄λΌμ΄μ–ΈνΈλ” λ‚΄λ¶€ μ„λ²„μ— λ€ν• μ •λ³΄λ¥Ό μ• ν•„μ” μ—†μ΄ **λ¦¬λ²„μ¤ ν”„λ΅μ‹**μ—λ§ μ”μ²­ν•λ©΄ λλ‹¤. 

**λ¦¬λ²„μ¤ ν”„λ΅μ‹**λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•λ” End Pointκ°€ λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„λ²„μ λ„λ©”μΈμ΄κΈ° λ•λ¬Έμ— μ‹¤μ  μ„λ²„μ μ •λ³΄λ” μ• μ μ—†λ‹¤.

### νΉμ§•
### 1. μΊμ‹±: Forward Proxyμ™€ λ™μΌ

### 2. λ³΄μ•: μ„λ²„ μ •λ³΄λ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ¨κΉ€
ν΄λΌμ΄μ–ΈνΈλ” `Reverse Proxy`λ¥Ό μ‹¤μ  μ„λ²„λΌκ³  μƒκ°ν•μ—¬ μ”μ²­ν•λ‹¤.

- μ‹¤μ  μ„λ²„μ IPκ°€ λ…Έμ¶λμ§€ μ•λ”λ‹¤.

- μ„λ²„μ— μ§μ ‘ μ ‘κ·Όν•λ” κ²ƒμ„ λ§‰κΈ° μ„ν•΄ `DMZ`κ°™μ€ λ„¤νΈμ›ν¬μ— `λ¦¬λ²„μ¤ ν”„λ΅μ‹`λ¥Ό κµ¬μ„±ν•μ—¬ μ ‘κ·Όν•λ„λ΅ ν•  μ μλ‹¤.

**DMZ**

![DMZ](img/Proxy/DMZ.png)

λ‚΄λ¶€ λ„¤νΈμ›ν¬μ—μ„ μ™Έλ¶€ λ„¤νΈμ›ν¬λ΅ μ§μ ‘μ μΈ ν†µμ‹ μ„ λ§‰κ³ , κ·Έ μ‚¬μ΄μ— `DMZ`λ¥Ό μ„μΉ μ‹ν‚¨λ‹¤.
μ¦‰ `DMZ`λ” λ‚΄λ¶€ λ„¤νΈμ›ν¬μ™€ μ™Έλ¶€ λ„¤νΈμ›ν¬ μ‚¬μ΄μ— μ„μΉν•λ” κµ¬κ°„μ„ μλ―Έν•λ‹¤. 

μ΄ κµ¬κ°„μ—λ” μ›Ή μ„λ²„, λ©”μΌ μ„λ²„, FTP μ„λ²„ λ“± μ™Έλ¶€ μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” μ„λ²„κ°€ μ„μΉν•λ‹¤.

`λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„λ²„`λ¥Ό `DMZ`μ— λ‘κ³  μ‹¤μ  μ„λΉ„μ¤ μ„λ²„λ” λ‚΄λ¶€λ§(WAS)μ— μ„μΉμ‹ν‚¨ν›„ μ„λΉ„μ¤λ¥Ό ν•λ” κ²ƒμ΄ μΌλ°μ μΈ ν•νƒμ΄λ‹¤.

### 3. Load Balancing
> ν•λ” κ²½μ°λ„ μκ³  ν•μ§€ μ•λ” κ²½μ°λ„ μλ‹¤.(μ„ νƒμ )

**μ—¬λ¬ λ€μ μ„λ²„κ°€ λ¶„μ‚° μ²λ¦¬**ν•  μ μλ„λ΅ μ”μ²­μ„ λ‚λ„μ–΄μ£Όλ” μ„λΉ„μ¤ 

**Load Balancer μΆ…λ¥**

|:---:|:---:|:---:|
|L2|`Data link κ³„μΈµ` Mac μ£Όμ† κΈ°λ° λ¶€ν• λ¶„μ‚°| |
|L3|`Network κ³„μΈµ` IP μ£Όμ† κΈ°λ° λ¶€ν• λ¶„μ‚°| |
|L4|`Transport κ³„μΈµ` Port κΈ°λ° λ¶€ν• λ¶„μ‚°| TCP UDP|
|L7|`Application κ³„μΈµ` μ”μ²­(URL)κΈ°λ° λ¶€ν• λ¶„μ‚°| HTTP, HTTPS| 

![L4L7](img/Prox/L4.png)

### 4. ν•„ν„°λ§
μ›Ή μ„λ²„ μ•λ‹¨μ—μ„ μ•…μμ μΈ μ”μ²­μ„ ν•„ν„°λ§ν•λ” κ²ƒμ΄ κ°€λ¥ν•λ‹¤.

### 5. λ¬΄μ¤‘λ‹¨ μ„λΉ„μ¤
ν• μ„λ²„μ— μ¥μ• κ°€ λ°μƒν–μ„ λ•, λ‹¤λ¥Έ μ„λ²„λ¥Ό ν†µν•΄ μ„λΉ„μ¤λ¥Ό μ κ³µν•  μ μλ‹¤.

## β… κ³µκ° ν”„λ΅μ‹
**κ³µκ° ν”„λ΅μ‹**λλ” **μ¤ν” ν”„λ΅μ‹**λ” λ„κµ¬λ‚ μμ λ΅­κ² μ ‘μ†ν•μ—¬ μ‚¬μ©ν•  μ μλ” ν”„λ΅μ‹ μ„λ²„λ¥Ό λ§ν•λ‹¤.

κ³µκ° ν”„λ΅μ‹λ¥Ό μ‚¬μ©ν•λ©΄ μμ‹ μ IPμ£Όμ†λ¥Ό λ‚¨κΈ°μ§€ μ•κ³  μµλ…μΌλ΅ ν™λ™ν•κΈ°κ°€ μ‰½κΈ° λ•λ¬Έμ—, `ν¬λν‚Ή`, `μ•…μ„± μ½”λ“` λλ” `λ°”μ΄λ¬μ¤ μ ν¬`, `λ¶λ²• ν–‰λ™` λ“±μ— μ•…μ©λκΈ° μ‰½λ‹¤. 
λ”°λΌμ„ λ§μ€ ν”„λ΅κ·Έλ¨μ€ κ³µκ° ν”„λ΅μ‹λ¥Ό κ²€μ¶ν•μ—¬ μ‚¬μ©μ„ κΈμ§€ν•λ‹¤. 

## λ©μ 
`ν”„λ΅μ‹ μ„λ²„`μ μ‚¬μ© λ©μ μ€ μ μ¬μ μΌλ΅ λ‹¤μ–‘ν•λ‹¤.

- **μµλ…**μΌλ΅ μ»΄ν“¨ν„°λ¥Ό μ μ§€(μ£Όλ΅ **λ³΄μ•**μ„ μ„ν•μ—¬)
- **μΊμ‹**λ¥Ό μ‚¬μ©ν•μ—¬ λ¦¬μ†μ¤λ΅μ μ ‘κ·Όμ„ λΉ λ¥΄κ² ν•κΈ° μ„ν•΄. (μ›Ή ν”„λ΅μ‹λ” μ›Ή μ„λ²„λ΅λ¶€ν„° μ›Ή νμ΄μ§€λ¥Ό μΊμ‹λ΅ μ €μ¥ν•λ”λ° ν”ν μ“°μΈλ‹¤.)
- **λ„¤νΈμ›ν¬ μ„λΉ„μ¤λ‚ μ½ν…μΈ λ΅μ μ ‘κ·Ό μ •μ±…**μ„ μ μ©ν•κΈ° μ„ν•΄ (ex. μ›μΉ μ•μ€ μ‚¬μ΄νΈλ¥Ό μ°¨λ‹¨)
- **μ‚¬μ©λ¥ μ„ κΈ°λ΅ν•κ³  κ²€μ‚¬**ν•κΈ° μ„ν•΄(ex. νμ‚¬λ” μΈν„°λ„· μ΄μ©μ„ νμ•…)
- **λ³΄μ• λ° ν†µμ λ¥Ό λ«κ³ ** λ‚κ°€κΈ° μ„ν•΄
- λ°”μ΄λ¬μ¤ μ „ν, μ•…μ„± λ£¨λ¨Έ μ „ν, λ‹¤λ¥Έ μ •λ³΄λ“¤μ„ λΉΌλ‚Ό λ©μ μΌλ΅
- μ—­μΌλ΅ IP μ¶”μ μ„ λ‹Ήν•μ§€ μ•μ„ λ©μ μΌλ΅
- μ „λ‹¬μ— μ•μ„ μ•…μ„± μ½”λ“λ¥Ό λ©μ μΌλ΅ μ „λ‹¬λ μ½ν…μΈ λ¥Ό κ²€μ‚¬ν•κΈ° μ„ν•΄
- λ°–μΌλ΅ λ‚κ°€λ” μ½ν…μΈ λ¥Ό κ²€μ‚¬ν•κΈ° μ„ν•΄(λ°μ΄ν„° μ μ¶ λ³΄νΈ)
- **μ§€μ—­ μ ν•μ„ μ°ν**ν•κΈ° μ„ν•΄

### π“ μ°Έκ³ 
[μ›Ή ν”„λ΅μ‹](https://ko.wikipedia.org/wiki/%ED%94%84%EB%A1%9D%EC%8B%9C_%EC%84%9C%EB%B2%84#%EB%A6%AC%EB%B2%84%EC%8A%A4_%ED%94%84%EB%A1%9D%EC%8B%9C)

[λ¦¬λ²„μ¤ ν”„λ΅μ‹](https://github.com/NKLCWDT/cs/blob/main/Network/%ED%94%84%EB%A1%9D%EC%8B%9C.md)

[λ΅λ“ λ°Έλ°μ‹±](https://deveric.tistory.com/91)

[10λ¶„ ν…μ½”ν†΅: Forward Proxy, Reverse Proxy](https://www.youtube.com/watch?v=YxwYhenZ3BE)

## Summary

***

<br>

# β‰οΈ λ©΄μ ‘ μμƒ μ§λ¬Έ

> 1. Proxyλ€ λ¬΄μ—‡μ΄κ³  μ™ μ‚¬μ©ν•λ‚μ”?

> 2. Proxy serverμ μΆ…λ¥μ—λ” λ¬΄μ—‡μ΄ μλ‚μ”?

> 3. ν¬μ›λ“ ν”„λ΅μ‹/ λ¦¬λ²„μ¤ ν”„λ΅μ‹ λ€ λ¬΄μ—‡μ΄κ³  νΉμ§•μ— λ€ν•΄ μ„¤λ…ν•΄μ£Όμ„Έμ”.