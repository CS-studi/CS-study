# TCP & UDP + QUIC

> TCP

> UDP

> TCP vs UDP

> QUIC

## 전송 계층(Transport layer)
전송 계층은 송신자와 수신자를 연결하는 통신 서비스를 제공하는 계층으로, 쉽게 말해 데이터의 전달을 담당한다. 

이 계층에서는 IP에 의해 전달되는 패킷의 오류를 검사하고 재전송 요구 등의 제어를 담당한다.

전송 계층에서 데이터를 전달하기 위해 사용하는 프로토콜에는 `TCP`와 `UDP`가 있다.

## TCP
TCP는 전송 계층에서 사용하는 프로토콜로서, 장치들 사이에 논리적인 접속을 성립하기 위하여 연결을 설정하여 **신뢰성을 보장하는 연결형 서비스**이다. 

TCP는 네트워크에 연결된 컴퓨터에서 실행되는 프로그램 간에 패킷을 안정적으로, 순서대로, 에러 없이 교환할 수 있게 한다. 

### TCP의 특징
1. 연결형 서비스로 가상  회선 방식을 제공한다.
    - 3-way handshaking 과정을 통해 연결을 설정한다.
    - 4-way handshaking 과정을 통해 연결을 해제한다. 
2. 흐름 제어
    - 송신자의 데이터 전송 속도를 조절하여 수신자의 버퍼 오버플로우를 방지하는 기법이다. 흐름 제어 기법 중 하나인 sliding window를 사용해 수신자의 버퍼에 남은 공간만큼 데이터를 전송받는다.
3. 혼잡 제어
    - 네트워크 내의 패킷 수가 넘쳐 네트워크를 혼잡하게 만드는 것을 방지하는 기법이다. 
4. 신뢰성이 높은 전송
    - 송신 측에서 보낸 패킷을 수신 측에서 받지 못하면 재전송한다. 
    - 체크섬
    - 타이머
    - 순서번호
    - 확인응답
    - 부정 확인응답
    - 윈도우, 파이프라이닝
5. 점이중, 점대점 방식
    - 점이중(Full-Duplex): 데이터 전송 흐름 방향이 항상 양 방향으로 동시에 전송할 수 있다.
    - 점대점(Point to Point): 각 연결이 정확히 2개의 종단점을 가지고 있다. 

### TCP의 단점
- 데이터로 보내기 전에 반드시 연결이 형성 되어야 한다.
- 1:1 통신만 가능하다.
- 고정된 통신 선로가 최단선(네트워크 길이)가 아닐경우 상대적으로 UDP보다 데이터 전송속도가 느리다.

## UDP
UDP는 전송계층의 **비 연결 지향적 프로토콜**이다. 

데이터를 서로 다른 경로로, 독립적으로 처리하는 프로토콜이다. 

> 비 연결 지향적: 데이터를 주고 받을때 연결 절차를 거치지 않고 발신자가 일방적으로 데이터를 발신하는 방식 

> 데이터를 데이터그램 단위로 처리하는 프로토콜 데이터그램 : 독립적인 관계를 지니는 패킷

### UDP의 특징
- 비 연결형 서비스로 연결 없이 통신이 가능하며 데이터그램 방식을 제공한다. 
- 정보를 주고 받을 때, 정보를 보내거나 받는다는 신호 절차를 거치지 않는다.
- 신뢰성 없는 데이터를 전송한다.
- 패킷 관리가 필요하다.
- 패킷 오버헤드가 적어 네트워크 부하가 감소되는 장점이 있다.
- 상대적으로 TCP보다 전송속도가 빠르다.

### UDP의 단점
- 데이터의 신뢰성이 없다.
- TCP와는 다르게 데이터를 쪼개주지 않아 애플리케이션 단에서 패킷을 쪼개야 한다. 

## UDP를 사용하는 이유
- TCP는 신뢰성을 보장하지만 연결을 통해 시간 손실을 발생할 수 있다.
- TCP는 패킷이 누락되면 재전송을 해야한다.
- 사진 또는 영상은 데이터의 일부가 누락돼도 문제가 발생하지 않기 때문에, TCP는 합리적인 방법이 되지 못한다.
- 위와 같은 경우 전송 속도가 빠른 UDP를 사용한다.

## TCP vs UDP
![](img/TCP_UDP_QUIC/tcpvsudp.png)

내용 보충 예정..

## ⁉️ 면접 예상 질문
 > 1. TCP와 UDP의 특징과 차이점을 설명해주세요.

 > 2. TCP를 사용하는 대표적인 프로토콜은 무엇인가요?

 > 3. UDP가 어디에 사용되고 왜 사용되나요?

 > 4. TCP/UDP의 단점은 무엇인가요?

 > 5. 신뢰성있는 TCP를 두고 UDP를 사용하는 이유는 무엇인가요?

 > 6. TCP에서 신뢰성을 보장하는 방법을 설명해주세요.